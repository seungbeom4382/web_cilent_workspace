<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>실습문제_구조분해할당</title>
</head>
<body>
    <h1>실습문제_구조분해할당</h1>
    <button onclick="test1();">학생점수</button>
    <button onclick="test2();">가족관계</button>
    <script>
    const test1 = () => {
        const data = "홍길동,남,90,80,70,60|신사임당,여,88,100,50|전봉준,남,55,80,77";
        const temp = data.split("|");
        const students = temp.map((s, i) => s.split(","));
        console.log(students);
        students.forEach(printStudentInfo);
      }

      const printStudentInfo = ([name, gender, ...scores]) => {
        const sum = scores
          .map((n) => Number(n))
          .reduce((sum, score) => sum + score);
        const avg = Math.round((sum / scores.length) * 10) / 10;
        console.log(`${name}(${gender}) - ${avg}점`);
      };

    const test2 = () => {
        const persons = [  
            {
                name : '홍길동',
                family : {
                    father : '홍석천',
                    mother : '홍진경',
                    sister : '홍수아',
                }, 
                age : 35
            },
            {
                name : '신사임당',
                family : {
                    father : '신동엽',
                    mother : '고두심',
                    brother : '신하균',
                }, 
                age : 25
            },
                {
                name : '이순신',
                family : {
                    father : '이경영',
                    mother : '이영자',
                    brother : '이승환',
                    sister : '아이유',
                }, 
                age : 33
            }
            ];
        persons.forEach((person) => {
            const {
                name, 
                family: {
                    father, 
                    mother, 
                    ...siblings // {brother, ..., sister}
                }
            } = person;
            console.log(`이름 : ${name}, 아빠 : ${father}, 엄마 : ${mother}, 형제자매 : ${Object.values(siblings)}`);
        });
    };
    </script>
</body>
</html>